const e={key:"36802043-6369625f376675122720202cd",image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:"20"};async function t({q:t="",page:a="1"}){try{const n=new URLSearchParams({...e,page:a,q:t}),o=await fetch(`https://pixabay.com/api?${n}`);if(!o.ok)return 400===o.status?[]:{error:o.status};const{hits:r}=await o.json();return r}catch(e){return{error:e.toString()}}}const a=e=>{const t=document.createElement("img");return t.classList.add("photo"),t.src=e.webformatURL,t};async function n({q:e,page:n}){const o=await t({q:e,page:n});o.error?alert(o.error):function({photos:e,page:t}){const n=document.querySelector("#photos");"1"===t&&(n.innerHTML="");const o=e.map(a);n.append(...o)}({photos:o,page:n})}const o=document.querySelector("#search-form");o.addEventListener("submit",(async function(e){e.preventDefault(),e.target.page.value="1";const t=e.target.q.value;await n({q:t,page:"1"})})),o.dispatchEvent(new Event("submit")),window.addEventListener("scroll",(async function(){const{scrollTop:e,scrollHeight:t,clientHeight:a}=document.documentElement;if(e+a>=t){const e=document.querySelector("#searchPhotosForm"),t=parseInt(e.page.value);e.page.value=t+1,await n({q:e.q.value,page:e.page.value})}}));
//# sourceMappingURL=index.fd72c797.js.map
